mw.loader.implement("ext.gadget.ColiruCompiler",function(){String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"");};function Editor(root){var cmd_info_cxx={cc:[{title:'GCC 4.9 (C++98)',cmd:'g++-4.9 -std=c++98 '},{title:'GCC 4.9 (C++11)',cmd:'g++-4.9 -std=c++11 ',opt_suff:' -latomic '},{title:'GCC 4.9 (C++14)',cmd:'g++-4.9 -std=c++14 ',opt_suff:' -latomic '},{title:'GCC 5.2 (C++98)',cmd:'g++-5.2 -std=c++98 '},{title:'GCC 5.2 (C++11)',cmd:'g++-5.2 -std=c++11 ',opt_suff:' -latomic '},{title:'GCC 5.2 (C++14)',cmd:'g++-5.2 -std=c++14 ',opt_suff:' -latomic '},{title:'GCC 5.2 (C++17)',cmd:'g++-5.2 -std=c++1z ',opt_suff:' -latomic '},{title:'GCC 13.1 (C++98)',cmd:'g++ -std=c++98 '},{title:'GCC 13.1 (C++11)',cmd:'g++ -std=c++11 ',opt_suff:' -latomic '},{title:'GCC 13.1 (C++14)',cmd:'g++ -std=c++14 ',opt_suff:' -latomic '},{title:'GCC 13.1 (C++17)',cmd:'g++ -std=c++17 ',opt_suff:' -latomic '},{title:'GCC 13.1 (C++20)',cmd:'g++ -std=c++20 ',opt_suff:' -latomic '},{title:
'GCC 13.1 (C++23)',cmd:'g++ -std=c++23 ',opt_suff:' -latomic '},{title:'clang 5.0 (C++98)',cmd:'clang++ -std=c++98 -stdlib=libc++ '},{title:'clang 5.0 (C++11)',cmd:'clang++ -std=c++11 -stdlib=libc++ ',opt_suff:' -latomic -lsupc++ '},{title:'clang 5.0 (C++14)',cmd:'clang++ -std=c++14 -stdlib=libc++ ',opt_suff:' -latomic -lsupc++ '},{title:'clang 5.0 (C++17)',cmd:'clang++ -std=c++17 -stdlib=libc++ ',opt_suff:' -latomic -lsupc++ '}],default_id:12,opt:' -O2 -Wall -Wextra -pedantic -pthread -pedantic-errors main.cpp -lm ',}
var cmd_info_c={cc:[{title:'GCC 4.9 (C89)',cmd:'gcc-4.9 -x c -std=c89 '},{title:'GCC 4.9 (C99)',cmd:'g++-4.9 -x c -std=c99 '},{title:'GCC 4.9 (C11)',cmd:'g++-4.9 -x c -std=c11 ',opt_suff:' -latomic '},{title:'GCC 5.2 (C89)',cmd:'g++-5.2 -x c -std=c89 '},{title:'GCC 5.2 (C99)',cmd:'g++-5.2 -x c -std=c99 '},{title:'GCC 5.2 (C11)',cmd:'g++-5.2 -x c -std=c11 ',opt_suff:' -latomic '},{title:'GCC 13.1 (C89)',cmd:'g++ -x c -std=c89 '},{title:'GCC 13.1 (C99)',cmd:'g++ -x c -std=c99 '},{title:'GCC 13.1 (C11)',cmd:'g++ -x c -std=c11 ',opt_suff:' -latomic '},{title:'GCC 13.1 (C17)',cmd:'g++ -x c -std=c17 ',opt_suff:' -latomic '},{title:'GCC 13.1 (C23)',cmd:'g++ -x c -std=c2x ',opt_suff:' -latomic '},{title:'clang 5.0 (C89)',cmd:'clang -x c -std=c89 -Wno-newline-eof '},{title:'clang 5.0 (C99)',cmd:'clang++ -x c -std=c99 -Wno-newline-eof '},{title:'clang 5.0 (C11)',cmd:'clang++ -x c -std=c11 -Wno-newline-eof ',opt_suff:' -latomic '}],default_id:10,opt:
' -O2 -Wall -Wextra -pedantic -pthread -pedantic-errors main.cpp -lm ',}
this.check_is_cxx=function(){if(mw.config.get('wgTitle').indexOf('c/')==0){return false;}else{return true;}};if(this.check_is_cxx()){this.cmd_info=cmd_info_cxx;}else{this.cmd_info=cmd_info_c;}this.cmd_run_normal=' 2>&1 | sed "s/^/☘/"; if [ -x a.out ]; then ./a.out | sed "s/^/☢/"; fi'
this.cmd_run_share=' && ./a.out';this.el={};this.el.root=root;this.is_orig=true;this.el.action_bar=this.el.root.children('.t-example-live-link:first');this.el.run_init_btn=this.el.action_bar.children('.coliru-btn-run-init');this.el.run_btn=$('<div>Run</div>').addClass('coliru-btn coliru-btn-run').hide().appendTo(this.el.action_bar);this.el.share_btn=$('<div>Share</div>').addClass('coliru-btn coliru-btn-share').hide().appendTo(this.el.action_bar);this.el.exit_btn=$('<div>Exit</div>').addClass('coliru-btn coliru-btn-exit').hide().appendTo(this.el.action_bar);this.el.cc_select_div=$('<div/>').addClass('coliru-select-compiler').hide().appendTo(this.el.action_bar);this.el.cc_select=$('<select/>').appendTo(this.el.cc_select_div);for(var i=0;i<this.cmd_info.cc.length;++i){var cmd=this.cmd_info.cc[i];$('<option/>').text(cmd.title).attr('value',i.toString()).appendTo(this.el.cc_select);}this.el.cc_select.val(this.cmd_info.default_id.toString());this.el.pwr=$(
'<div>Powered by <a href="https://coliru.stacked-crooked.com">Coliru</a> online compiler</div>').addClass('coliru-powered').hide().appendTo(this.el.action_bar);orig_code=this.el.root.children('.mw-geshi:first');if(orig_code.length>0){this.has_orig_code=true;this.el.orig_code=orig_code.first();}else{this.has_orig_code=false;this.el.orig_code=$('<div/>').hide().insertAfter(this.el.action_bar);}orig_output=this.el.root.children('.mw-geshi:last');if(orig_output.length>0&&!orig_output.is(orig_code)){this.has_orig_output=true;this.el.orig_output=orig_output.first();}else{this.has_orig_output=false;this.el.output_p=$('<p>Output:</p>').hide().insertAfter(this.el.orig_code);this.el.orig_output=$('<div/>').hide().insertAfter(this.el.output_p);}if(this.has_orig_code){this.source_code=this.el.orig_code.text().replace(/\u00a0/g," ");}else{this.source_code='';}this.el.edited_code=$('<div/>').addClass('t-example-code mw-geshi').hide().insertAfter(this.el.orig_code);this.el.editor_div=$('<div/>').
addClass('ace_editor ace-tm').appendTo(this.el.edited_code);this.editor=ace.edit(this.el.editor_div.get(0));this.editor.setTheme("ace/theme/textmate");this.editor.getSession().setMode("ace/mode/c_cpp");this.editor.commands.bindKeys({"Ctrl-l":null});this.editor.commands.bindKeys({"Ctrl-t":null});this.editor.commands.bindKeys({"Command-l":null});this.editor.commands.addCommand({name:'Build and run',bindKey:{win:'Ctrl-B',mac:'Command-B'},exec:function(editor){this.compile_now();},readOnly:true});this.editor.commands.addCommand({name:'Disable Ctrl-S',bindKey:{win:'Ctrl-S',mac:'Command-S'},exec:function(editor){},readOnly:true});this.editor.getSession().setValue(this.source_code);this.el.compiler_output_p=$('<p>Compiler messages:</p>').hide().insertAfter(this.el.edited_code);this.el.compiler_output=$('<div/>').addClass('coliru-output coliru-output-compiler mw-geshi').hide().insertAfter(this.el.compiler_output_p);this.el.compiler_output_div=$('<div/>').appendTo(this.el.compiler_output);this.
el.edited_output=$('<div/>').addClass('coliru-output coliru-output-program mw-geshi').hide().insertAfter(this.el.orig_output);this.el.output_div=$('<div/>').appendTo(this.el.edited_output);this.reset_editor=function(){this.editor.getSession().setValue(this.source_code);};this.el.run_btn.click(function(){if(!this.el.run_btn.hasClass('coliru-btn-disabled')){this.compile_now();}}.bind(this));this.el.share_btn.click(function(){if(!this.el.share_btn.hasClass('coliru-btn-disabled')){this.share();}}.bind(this));this.el.exit_btn.click(function(){if(!this.el.exit_btn.hasClass('coliru-btn-disabled')){this.restore_orig();}}.bind(this));this.enable_ui=function(value){this.editor.setReadOnly(!value);if(value){this.el.run_btn.removeClass('coliru-btn-disabled');this.el.share_btn.removeClass('coliru-btn-disabled');this.el.exit_btn.removeClass('coliru-btn-disabled');}else{this.el.run_btn.addClass('coliru-btn-disabled');this.el.share_btn.addClass('coliru-btn-disabled');this.el.exit_btn.addClass(
'coliru-btn-disabled');}};this.send=function(location,cmd,src,f){this.enable_ui(false);if(src.lastIndexOf('\n')!==src.length-1){src+='\n';}var http_request=new XMLHttpRequest();http_request.open("POST","https://coliru.stacked-crooked.com/"+location,true);var parent=this;http_request.onreadystatechange=function(){if(http_request.readyState==4){parent.enable_ui(true);if(http_request.status==200){parent.last_result=http_request.responseText.trim();f({src:parent.editor.getValue(),cmd:parent.cmd,output:parent.last_result});}}};var post_data=JSON.stringify({"cmd":cmd,"src":src});http_request.send(post_data);};this.compile_now=function(){var parent=this;this.editor.getSession().clearAnnotations();this.el.compiler_output_p.fadeOut('fast');this.el.compiler_output.fadeOut('fast');this.el.output_div.html('Building and running...');var cmd=this.get_cmd(false);var src=this.editor.getValue();this.send("compile",cmd,src,function(obj){var lines=obj.output.split(/\n/);var annotations=[];var
annotation_lines=[];var program_output='';var compiler_output='';for(var i=0;i!==lines.length;++i){var line=lines[i];var is_compile_output=false;var is_shell_output=false;if(line.indexOf('☘')==0){is_compile_output=true;line=line.substring(1);}else if(line.indexOf('☢')==0){line=line.substring(1);}else{is_shell_output=true;}if(line!==''){line=line.replace(/</g,'&lt').replace(/>/g,'&gt');if(is_compile_output){var has_error=false,has_any_error=false;var error_lineno=0;var error_text="";var match=line.match(/^main.cpp:(\d+):\d+:(.*)/);if(match){has_error=true;error_lineno=parseInt(match[1]);error_text=match[2].trim();}if(has_error){if(annotation_lines.indexOf(error_lineno)===-1){var error_type='error';if(error_text.match(/^warning:/)){error_type='warning';}annotation_lines.push(error_lineno);annotations.push({row:error_lineno-1,column:0,text:error_text,type:error_type});}}pre_open='<pre';if(has_error){pre_open+=' onclick="window.jump_to_error(this, '+error_lineno+
')" onmouseover="window.highlight_error(this, true)" onmouseout="window.highlight_error(this, false)"';}pre_open+='>';pre_close='</pre>';compiler_output+=pre_open+line+pre_close;}else if(is_shell_output){pre_open='<pre class="coliru-output-line-shell">';pre_close='</pre>';program_output+=pre_open+line+pre_close;}else{pre_open='<pre class="coliru-output-line-exe">';pre_close='</pre>';program_output+=pre_open+line+pre_close;}}else{program_output+='<br/>';}}parent.el.output_div.html(program_output);if(compiler_output!==''){parent.el.compiler_output_div.html(compiler_output);parent.el.compiler_output_p.fadeIn('fast');parent.el.compiler_output.fadeIn('fast');}window.setTimeout(function(){parent.editor.getSession().setAnnotations(annotations);},100);});};this.share=function(){var cmd=this.get_cmd(true);var src=this.editor.getValue();this.send("share",cmd,src,function(obj){var url="https://coliru.stacked-crooked.com/view?id="+obj.output;window.open(url,'_blank');})};this.get_cmd=function(
is_shared){var val=this.el.cc_select.val();var cc=this.cmd_info.cc[parseInt(val)].cmd;cc=cc+this.cmd_info.opt
if(this.cmd_info.cc[parseInt(val)].opt_suff!==undefined){cc=cc+this.cmd_info.cc[parseInt(val)].opt_suff;}if(is_shared){return cc+this.cmd_run_share;}else{return cc+this.cmd_run_normal;}};this.replace_orig=function(){if(!this.is_orig){return;}this.el.root.height(this.el.root.height());var parent=this;this.el.run_init_btn.fadeOut("fast",function(){parent.el.run_btn.fadeIn("fast").css("display","inline-block");parent.el.share_btn.fadeIn("fast").css("display","inline-block");parent.el.exit_btn.fadeIn("fast").css("display","inline-block");parent.el.cc_select_div.fadeIn("fast").css("display","inline-block");parent.el.pwr.fadeIn("fast").css("display","inline-block");});this.el.orig_code.fadeOut("fast",function(){parent.el.edited_code.fadeIn("fast");});this.el.orig_output.fadeOut("fast",function(){if(!parent.has_orig_output){parent.el.output_p.fadeIn('fast');}parent.el.edited_output.fadeIn("fast",function(){parent.el.root.height('auto');});});this.is_orig=false;};this.restore_orig=function(){
if(this.is_orig){return;}this.el.root.height(this.el.root.height());var parent=this;this.el.run_btn.fadeOut("fast",function(){parent.el.run_init_btn.fadeIn("fast").css("display","inline-block");});this.el.share_btn.fadeOut("fast");this.el.exit_btn.fadeOut("fast");this.el.cc_select_div.fadeOut("fast");this.el.pwr.fadeOut("fast");this.el.edited_code.fadeOut("fast",function(){parent.el.orig_code.fadeIn("fast");});this.el.compiler_output_p.fadeOut('fast');this.el.compiler_output.fadeOut('fast');if(!this.has_orig_output){this.el.output_p.fadeOut('fast');}var parent=this;this.el.edited_output.fadeOut("fast",function(){parent.el.orig_output.fadeIn("fast",function(){parent.el.root.height('auto');});});this.is_orig=true;};this.enable_ui(true);};function get_script_cached(url,callback){return $.ajax({type:"GET",url:url,success:callback,dataType:"script",cache:true});};window.highlight_error=function(node,b){node.style.cursor=b?'pointer':'auto';};window.jump_to_error=function(node,lineno){var root
=$(node).parents('.t-example');if(root.length>0){for(var i=0;i<editors.length;++i){if(editors[i].el.root.is(root)){var editor=editors[i];editor.editor.gotoLine(lineno,0,true);editor.editor.focus();}}}};var editors=[];$.when(get_script_cached('https://cdn.jsdelivr.net/ace/1.2.4/noconflict/ace.js')).done(function(){$.when(get_script_cached('https://cdn.jsdelivr.net/ace/1.2.4/noconflict/mode-c_cpp.js'),$.Deferred(function(deferred){$(deferred.resolve);})).done(function(){$('.t-example-live-link > a').each(function(){$(this).replaceWith('<div class="coliru-btn coliru-btn-run-init">Run this code</div>');});$('.t-example > .mw-geshi:first').each(function(){$(this).addClass('t-example-code');});$('.coliru-btn-run-init').click(function(){var root=$(this).parent().parent();var i;for(i=0;i<editors.length;++i){if(editors[i].el.root.is(root)){break;}}if(i==editors.length){editors[i]=new Editor(root);}var editor=editors[i];editor.replace_orig();editor.compile_now();});});});;},{"css":[
".t-example-live-link{display:block !important;position:relative;margin-top:1em;padding:0 1em;width:55em}.t-example-live-link \x3e a{display:none}.coliru-btn{background-color:#eeeeee;background-image:linear-gradient(#ffffff,#eeeeee);background-repeat:repeat-x;border:1px solid #cccccc;border-radius:3px;box-shadow:0 1px 0 rgba(255,255,255,0.5);padding:3px;margin:3px;color:#333333;cursor:pointer;display:inline-block;font-size:0.8em;font-weight:bold;line-height:1em}.coliru-btn:hover{background-color:#dddddd;background-image:linear-gradient(#ffffff,#dddddd)}.coliru-btn-disabled{color:#888888}.coliru-btn-disabled:hover{background-color:#eeeeee;background-image:linear-gradient(#ffffff,#eeeeee)}.coliru-powered{font-size:0.8em;position:absolute;bottom:0;right:0}.ace_editor{display:block;position:relative !important;top:0;right:0;bottom:0;left:0;width:100%;height:30em;font-family:DejaVuSansMono,\"DejaVu Sans Mono\",courier,monospace !important}.t-example-code{margin-top:0 !important}.coliru-output{overflow:auto;max-height:15em}.coliru-output \x3e div{display:table;width:100%}.coliru-output pre{border:none;display:table-row;padding:0;margin:0}.coliru-output-line-shell{background-color:#ffd8d8}.coliru-select-compiler select{background-color:#EEEEEE;background-image:linear-gradient(#FFFFFF,#EEEEEE);background-repeat:repeat-x;border:1px solid #CCCCCC;border-radius:3px 3px 3px 3px;box-shadow:0 1px 0 rgba(255,255,255,0.5);font-size:0.8em;line-height:1em;padding:0;width:12em}\n/* cache key: mwiki1-mwiki_en_:resourceloader:filter:minify-css:7:50a161ae2572e9a968ebbe7279923688 */"
]},{});mw.loader.implement("ext.gadget.MathJax",function(){var mathTags=$('.mjax');if(mathTags.length>0){window.MathJax={AuthorInit:function(){MathJax.Hub.Register.StartupHook("End",function(){MathJax.Hub.Queue(function(){mathTags.show();$('.mjax-fallback').hide();});});}};mw.loader.load('https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS_CHTML');};},{},{});mw.loader.implement("ext.gadget.StandardRevisions",function(){$(function(){var debug=false;if(!window.console)window.console={};if(!window.console.log)window.console.log=function(){};function array_equal(a,b){var i=a.length;if(i!==b.length){return false;}while(i--){if(a[i]!==b[i]){return false;}}return true;};function array_sort_unique(a){a=a.sort(function(x,y){return x-y;});var c=a[0];var res=[c];for(var i=1;i<a.length;i++){if(a[i]!==c){res.push(a[i]);c=a[i];}}return res;}if(mw.config.get('wgAction')!='view'){return;}if(mw.config.get('wgNamespaceNumber')!=0){return;}var is_cxx=(mw.config.get('wgTitle').
indexOf('c/')!=0);var Rev_c={DIFF:0,FIRST:1,C89:1,C99:2,C11:3,C17:4,C23:5,LAST:6};var Rev_cxx={DIFF:0,FIRST:1,CXX98:1,CXX11:2,CXX14:3,CXX17:4,CXX20:5,CXX23:6,CXX26:7,LAST:8};var Rev;if(is_cxx){Rev=Rev_cxx;}else{Rev=Rev_c;}var desc_c=[{rev:Rev.DIFF,title:'Diff'},{rev:Rev.C89,title:'C89'},{rev:Rev.C99,title:'C99'},{rev:Rev.C11,title:'C11'},{rev:Rev.C17,title:'C17'},{rev:Rev.C23,title:'C23'},];var desc_cxx=[{rev:Rev.DIFF,title:'Diff'},{rev:Rev.CXX98,title:'C++98/03'},{rev:Rev.CXX11,title:'C++11'},{rev:Rev.CXX14,title:'C++14'},{rev:Rev.CXX17,title:'C++17'},{rev:Rev.CXX20,title:'C++20'},{rev:Rev.CXX23,title:'C++23'},{rev:Rev.CXX26,title:'C++26'},];var desc;if(is_cxx){desc=desc_cxx;}else{desc=desc_c;}function should_be_shown(rev,mark){if(rev===Rev.DIFF){return true;}if(mark.since){return(rev>=mark.rev);}else{return(rev<mark.rev);}}function get_mark_cxx(el){if(el.hasClass('t-since-cxx11')){return{since:true,rev:Rev.CXX11};}if(el.hasClass('t-since-cxx14')){return{since:true,rev:Rev.CXX14};}if(
el.hasClass('t-since-cxx17')){return{since:true,rev:Rev.CXX17};}if(el.hasClass('t-since-cxx20')){return{since:true,rev:Rev.CXX20};}if(el.hasClass('t-since-cxx23')){return{since:true,rev:Rev.CXX23};}if(el.hasClass('t-since-cxx26')){return{since:true,rev:Rev.CXX26};}if(el.hasClass('t-until-cxx11')){return{since:false,rev:Rev.CXX11};}if(el.hasClass('t-until-cxx14')){return{since:false,rev:Rev.CXX14};}if(el.hasClass('t-until-cxx17')){return{since:false,rev:Rev.CXX17};}if(el.hasClass('t-until-cxx20')){return{since:false,rev:Rev.CXX20};}if(el.hasClass('t-until-cxx23')){return{since:false,rev:Rev.CXX23};}if(el.hasClass('t-until-cxx26')){return{since:false,rev:Rev.CXX26};}return{since:true,rev:Rev.CXX98};}function get_mark_c(el){if(el.hasClass('t-since-c99')){return{since:true,rev:Rev.C99};}if(el.hasClass('t-since-c11')){return{since:true,rev:Rev.C11};}if(el.hasClass('t-since-c17')){return{since:true,rev:Rev.C17};}if(el.hasClass('t-since-c23')){return{since:true,rev:Rev.C23};}if(el.hasClass(
't-until-c99')){return{since:false,rev:Rev.C99};}if(el.hasClass('t-until-c11')){return{since:false,rev:Rev.C11};}if(el.hasClass('t-until-c17')){return{since:false,rev:Rev.C17};}if(el.hasClass('t-until-c23')){return{since:false,rev:Rev.C23};}return{since:true,rev:Rev.C89};}var VisibilityMap=function(revs){this.map=[];var i;for(i=0;i<Rev.LAST;i++){this.map.push(false);}if(typeof(revs)!=='undefined'){for(i=0;i<revs.length;i++){this.map[revs[i]]=true;}}}
VisibilityMap.prototype.is_visible_on=function(rev){return this.map[rev];}
VisibilityMap.prototype.is_visible_on_none=function(){for(var i=0;i<Rev.LAST;i++){if(this.map[i]===true){return false;}}return true;}
VisibilityMap.prototype.is_visible_on_all=function(){for(var i=0;i<Rev.LAST;i++){if(this.map[i]===false){return false;}}return true;}
VisibilityMap.prototype.add=function(rev){this.map[rev]=true;}
VisibilityMap.prototype.remove=function(rev){this.map[rev]=false;}
VisibilityMap.prototype.fill=function(value){for(var i=0;i<this.map.length;i++)this.map[i]=value;}
var visibility_fill=function(value){var ret=new VisibilityMap();ret.fill(value);return ret;}
VisibilityMap.prototype.clone=function(){var ret=new VisibilityMap();ret.map=this.map.slice();return ret;}
VisibilityMap.prototype.equal=function(other){return array_equal(this.map,other.map);}
VisibilityMap.prototype.combine_and=function(map){for(var i=0;i<Rev.LAST;i++){this.map[i]=this.map[i]&&map.map[i];}}
VisibilityMap.prototype.combine_or=function(map){for(var i=0;i<Rev.LAST;i++){this.map[i]=this.map[i]||map.map[i];}}
VisibilityMap.prototype.debug_to_string=function(){var out='{ ';for(var i=0;i<this.map.length;i++){if(this.map[i]){out+='T';}else{out+='F';}}out+=' }';return out;}
function get_visibility_map_cxx(el){var classes_cxx=[{rev:Rev.CXX11,since:'t-since-cxx11',until:'t-until-cxx11'},{rev:Rev.CXX14,since:'t-since-cxx14',until:'t-until-cxx14'},{rev:Rev.CXX17,since:'t-since-cxx17',until:'t-until-cxx17'},{rev:Rev.CXX20,since:'t-since-cxx20',until:'t-until-cxx20'},{rev:Rev.CXX23,since:'t-since-cxx23',until:'t-until-cxx23'},{rev:Rev.CXX26,since:'t-since-cxx26',until:'t-until-cxx26'},];var map=new VisibilityMap();for(var i=0;i<classes_cxx.length;i++){if(el.hasClass(classes_cxx[i].since)){break;}}if(i===classes_cxx.length){map.add(Rev.CXX98);i=0;}for(;i<classes_cxx.length;i++){if(el.hasClass(classes_cxx[i].until)){break;}map.add(classes_cxx[i].rev);}return map;}function get_visibility_map_c(el){var classes_c=[{rev:Rev.C89,since:'t-since-c89',until:'t-until-c89'},{rev:Rev.C99,since:'t-since-c99',until:'t-until-c99'},{rev:Rev.C11,since:'t-since-c11',until:'t-until-c11'},{rev:Rev.C17,since:'t-since-c17',until:'t-until-c17'},{rev:Rev.C23,since:'t-since-c23',until:
't-until-c23'},];var map=new VisibilityMap();for(var i=0;i<classes_c.length;i++){if(el.hasClass(classes_c[i].since)){break;}}if(i===classes_c.length){map.add(Rev.C89);i=0;}for(;i<classes_c.length;i++){if(el.hasClass(classes_c[i].until)){break;}map.add(classes_c[i].rev);}return map;}var get_mark,get_visibility_map;if(is_cxx){get_mark=get_mark_cxx;get_visibility_map=get_visibility_map_cxx;}else{get_mark=get_mark_c;get_visibility_map=get_visibility_map_c;}var ObjectTracker=function(){this.all_objects=[];this.all_display=[];this.diff_ids=[];this.curr_rev=Rev.DIFF;this.rev2id_map=[];for(var i=0;i<Rev.LAST;++i){this.rev2id_map[i]=[];}}
ObjectTracker.prototype.add_object=function(obj,orig_obj,visibility_map){var id=this.all_objects.length;this.all_objects[id]=obj;this.all_display[id]=orig_obj.css('display');for(var rev=0;rev<Rev.LAST;rev++){if(visibility_map.is_visible_on(rev)){this.rev2id_map[rev].push(id);}}};ObjectTracker.prototype.add_diff_object=function(obj,visibility_map){this.add_object(obj,obj,visibility_map);}
ObjectTracker.prototype.to_rev=function(rev){if(rev===this.curr_rev){return;}var visible_before=this.rev2id_map[this.curr_rev];var visible_after=this.rev2id_map[rev];var i,curr;for(i=0;i<visible_before.length;++i){curr=visible_before[i];if($.inArray(curr,visible_after)===-1){this.all_objects[curr].css('display','none');}}for(i=0;i<visible_after.length;++i){curr=visible_after[i];if($.inArray(curr,visible_before)===-1){this.all_objects[curr].css('display',this.all_display[curr]);}}this.curr_rev=rev;};var SectionContentsTracker=function(){this.root_section=new SectionNode(null);this.root_container=new ContainerNode(null,null);this.curr_section=this.root_section;this.curr_container=this.root_container;};var ObjectType={PRIMARY:0,SECONDARY:1,UNKNOWN:2,SECTION:3,CONTAINER:4};var ObjectNode=function(parent_section,parent_container,type,obj){this.parent_section=parent_section;this.parent_container=parent_container;this.level=parent_section.level+1;this.children=null;this.obj=obj;this.type=type
;this.visible=null;};var SectionNode=function(parent){this.parent_section=parent;if(parent===null){this.level=0;}else{this.level=this.parent_section.level+1;}this.children=[];this.obj=null;this.type=ObjectType.SECTION;this.visible=null;};var ContainerNode=function(parent,obj){this.parent_container=parent;this.children=[];this.obj=obj;this.type=ObjectType.CONTAINER;this.visible=null;};SectionContentsTracker.prototype.set_level=function(level){if(level<0){console.log("Level must be positive");return;}while(this.curr_section.level>=level&&this.curr_section.level>0){this.curr_section=this.curr_section.parent_section;}while(this.curr_section.level<level){var new_section=new SectionNode(this.curr_section);this.curr_section.children.push(new_section);this.curr_section=new_section;}};SectionContentsTracker.prototype.add_object=function(obj,type,visible){var new_node=new ObjectNode(this.curr_section,this.curr_container,type,obj);new_node.visible=visible;this.curr_section.children.push(new_node)
;this.curr_container.children.push(new_node);};SectionContentsTracker.prototype.add_primary=function(obj,visible){this.add_object(obj,ObjectType.PRIMARY,visible);};SectionContentsTracker.prototype.add_secondary=function(obj){this.add_object(obj,ObjectType.SECONDARY,null);};SectionContentsTracker.prototype.add_unknown=function(obj){this.add_object(obj,ObjectType.UNKNOWN,visibility_fill(true));};SectionContentsTracker.prototype.enter_container=function(obj){var new_node=new ContainerNode(this.curr_container,obj);this.curr_container.children.push(new_node);this.curr_container=new_node;};SectionContentsTracker.prototype.exit_container=function(){this.curr_container=this.curr_container.parent_container;};SectionContentsTracker.prototype.eval_section_visibility=function(obj){var visible=new VisibilityMap();var i,child;for(i=0;i<obj.children.length;i++){child=obj.children[i];switch(child.type){case ObjectType.PRIMARY:case ObjectType.UNKNOWN:visible.combine_or(child.visible);break;case
ObjectType.SECONDARY:break;case ObjectType.SECTION:visible.combine_or(this.eval_section_visibility(child));break;}}for(i=0;i<obj.children.length;i++){child=obj.children[i];if(child.type===ObjectType.SECONDARY){child.visible=visible;}}obj.visible=visible;return visible;};SectionContentsTracker.prototype.eval_container_visibility=function(obj){var visible=new VisibilityMap();for(var i=0;i<obj.children.length;i++){var child=obj.children[i];if(child.type===ObjectType.CONTAINER){visible.combine_or(this.eval_container_visibility(child));}else{visible.combine_or(child.visible);}}obj.visible=visible;return visible;};SectionContentsTracker.prototype.perform_hide_obj=function(obj,tracker,visible_mask){var wanted_visible=obj.visible.clone();wanted_visible.combine_and(visible_mask);if(!wanted_visible.equal(visible_mask)){tracker.add_diff_object(obj.obj,wanted_visible);return wanted_visible;}return visible_mask;};SectionContentsTracker.prototype.perform_hide=function(obj,tracker,visible_mask){if(
obj!==this.root_container){visible_mask=this.perform_hide_obj(obj,tracker,visible_mask);}for(var i=0;i<obj.children.length;++i){var child=obj.children[i];switch(child.type){case ObjectType.CONTAINER:this.perform_hide(child,tracker,visible_mask);break;case ObjectType.SECONDARY:this.perform_hide_obj(child,tracker,visible_mask);break;}}};SectionContentsTracker.prototype.run=function(tracker){this.eval_section_visibility(this.root_section);this.eval_container_visibility(this.root_container);this.perform_hide(this.root_container,tracker,visibility_fill(true));};var Scope=function(root){this.root=root;};Scope.create_root=function(obj){var scope=new Scope(obj);scope.nv=scope.root.find('.t-navbar');scope.dcl_tables=scope.root.find('.t-dcl-begin');scope.dcl_rev_tables=scope.dcl_tables.filter('.t-dcl-rev-begin');scope.dsc_tables=scope.root.find('.t-dsc-begin');scope.rev_tables=scope.root.find('.t-rev-begin');scope.rev_inl_tables=scope.root.find('.t-rev-inl');scope.list_items=scope.root.find(
'.t-li1');scope.list_items.add(scope.root.find('.t-li2'));scope.list_items.add(scope.root.find('.t-li3'));return scope;};Scope.split_scope=function(parent_scope,child_scope,prop){var to_move=parent_scope[prop].filter(function(){return $.contains(child_scope.root[0],this);});parent_scope[prop]=parent_scope[prop].not(to_move);child_scope[prop]=to_move;};Scope.create_child=function(parent,obj){var scope=new Scope(obj);Scope.split_scope(parent,scope,'nv');Scope.split_scope(parent,scope,'dcl_tables');Scope.split_scope(parent,scope,'dcl_rev_tables');Scope.split_scope(parent,scope,'dsc_tables');Scope.split_scope(parent,scope,'rev_tables');Scope.split_scope(parent,scope,'rev_inl_tables');Scope.split_scope(parent,scope,'list_items');return scope;};var StandardRevisionPlugin=function(){this.curr_rev=Rev.DIFF;this.tracker=new ObjectTracker();this.is_prepared=false;};StandardRevisionPlugin.prototype.prepare_navbar=function(scope){var nv=scope.nv
if(nv.length===0){return;}this.tracker.add_diff_object(nv,new VisibilityMap([Rev.DIFF]));var self=this;for(var rev=Rev.FIRST;rev<Rev.LAST;++rev){var rev_nv=nv.clone().hide().insertAfter(nv);this.tracker.add_object(rev_nv,nv,new VisibilityMap([rev]));var nv_tables=rev_nv.find('.t-nv-begin');var nv_tables_tb=nv_tables.children('tbody');var el_h1=nv_tables_tb.children('.t-nv-h1');var el_h2=nv_tables_tb.children('.t-nv-h2');var el_col_tables=nv_tables_tb.children('.t-nv-col-table');var el_nv=nv_tables_tb.children('.t-nv');el_nv.each(function(){var link_tds=$(this).find('.t-nv-ln-table div');var marks;if(link_tds.length===0){marks=$(this).find('.t-mark-rev');if(marks.length>0){var mark=get_mark(marks.first());if(!should_be_shown(rev,mark)){$(this).remove();}else{marks.remove();}}return;}if(link_tds.length===1){return;}var titles=link_tds.first().children().children().first().children();marks=link_tds.last().children().first().children();if(self.delete_lines(titles,marks,rev)){$(this).remove
();}});el_col_tables.each(function(){if($(this).find('.t-nv').length===0){$(this).remove();}});el_h2.each(function(){if($(this).next().length===0||$(this).next().is('.t-nv-h2, .t-nv-h1')){$(this).remove();}});el_h1.each(function(){if($(this).next().length===0||$(this).next().is('.t-nv-h1')){$(this).remove();}});}};StandardRevisionPlugin.prototype.prepare_all_revs=function(scope){var rev_elems=scope.rev_tables.children('tbody').children('.t-rev');var self=this;rev_elems.each(function(){var visible=get_visibility_map($(this));visible.add(Rev.DIFF);self.tracker.add_diff_object($(this),visible);});};StandardRevisionPlugin.prototype.prepare_all_inl_revs=function(scope){var self=this;scope.rev_inl_tables.each(function(){self.tracker.add_diff_object($(this),new VisibilityMap([Rev.DIFF]));var visible=get_visibility_map($(this));var copy=$(this).children().first().clone().hide().insertAfter($(this));self.tracker.add_object(copy,$(this),visible);});};StandardRevisionPlugin.prototype.
prepare_all_dscs=function(scope){var self=this;scope.dsc_tables.each(function(){self.prepare_dsc_table($(this));});};StandardRevisionPlugin.prototype.is_secondary=function(el){if(el.is('h2')||el.is('h3')||el.is('h5')||el.is('p')||(el.is('tr')&&el.has('td > h5').length)||el.is('.t-dsc-header')){return true;}return false;};StandardRevisionPlugin.prototype.get_heading_level=function(el){if(el.is('h2'))return 0;if(el.is('h3'))return 1;if(el.is('h5'))return 2;if(el.is('tr')&&el.has('td > h5').length)return 2;if(el.is('.t-dsc-header'))return 3;return-1;}
StandardRevisionPlugin.prototype.set_level_if_needed=function(section_tracker,el){var level=this.get_heading_level(el);if(level>=0){section_tracker.set_level(level);}};StandardRevisionPlugin.prototype.prepare_dsc_table=function(el){var section_tracker=new SectionContentsTracker();var start_el=el;while(true){var prev=start_el.prev();if(prev.length===0||!this.is_secondary(prev))break;start_el=prev;}while(start_el[0]!==el[0]){this.set_level_if_needed(section_tracker,start_el);section_tracker.add_secondary(start_el);start_el=start_el.next();}section_tracker.enter_container(el);var rows=el.children('tbody').children();var self=this;rows.each(function(){var el=$(this);if(el.is('.t-dsc')){section_tracker.add_primary(el,self.prepare_dsc(el));}else{self.set_level_if_needed(section_tracker,el);if(self.is_secondary(el)){section_tracker.add_secondary(el);}else{section_tracker.add_unknown(el);}}});section_tracker.exit_container();section_tracker.run(this.tracker);};StandardRevisionPlugin.prototype.
prepare_dsc=function(el){var self=this;function process_dsc_specialized(el,member){var lines=member.find('.t-lines');if(lines.length!==2){return visibility_fill(true);}var marks=lines.last();var rev_map=self.get_revision_map(marks.children());self.tracker.add_diff_object(el,rev_map[Rev.DIFF]);for(var rev=Rev.FIRST;rev<Rev.LAST;++rev){if(rev_map[rev].is_visible_on_none()){continue;}var copy=el.clone().hide();self.tracker.add_object(copy,el,rev_map[rev]);member=copy.children().children('.t-dsc-member-div');lines=member.find('.t-lines');var titles=lines.first().children();marks=lines.last().children();self.delete_lines(titles,marks,rev);copy.insertAfter(el);}return self.revision_map_to_visibility(rev_map);};function process_dsc_generic(el){var td=el.children().first();if(td.find('.t-mark-rev').length===0){return visibility_fill(true);}var rev_map=self.get_revision_map(td);self.tracker.add_diff_object(el,rev_map[Rev.DIFF]);for(var rev=Rev.FIRST;rev<Rev.LAST;++rev){if(rev_map[rev].
is_visible_on_none()){continue;}var copy=el.clone().hide();self.tracker.add_object(copy,el,rev_map[rev]);copy.children().first().find('.t-mark-rev').remove();copy.insertAfter(el);}return self.revision_map_to_visibility(rev_map);};var member=el.children().children('.t-dsc-member-div');if(member.length!==0){return process_dsc_specialized(el,member);}else{return process_dsc_generic(el);}};StandardRevisionPlugin.prototype.prepare_all_dcls=function(dcl_table){var tracker=this.tracker;defs=[];var num_regex=/\s*\((\d+)\)\s*/;function process_tr(el,is_num_overridden,is_rev_overridden,overridden_revs){var new_def={type:'s',obj:el,num:-1,revs:visibility_fill(true)};if(!is_num_overridden){var num_text=el.children('td').eq(1).text();var match=num_text.match(num_regex);if(match!==null){new_def.num=parseInt(match[1]);}}if(!is_rev_overridden){var notes_td=el.children('td').eq(2);if(notes_td.find('.t-mark-rev').length>0){new_def.revs=get_visibility_map(el);}}else{new_def.revs=overridden_revs;}return defs
.push(new_def)-1;};function process_rev_tbody(el){var new_def={type:'r',obj:el,num:-1,revs:visibility_fill(true),children:[]};var aux_tr=el.children('.t-dcl-rev-aux').first();new_def.aux=aux_tr;var has_num=false;if(el.hasClass('t-dcl-rev-num')){var num_text=aux_tr.children('td').eq(1).text();var match=num_text.match(num_regex);if(match!==null){new_def.num=parseInt(match[1]);has_num=true;}}var has_revs=false;if(el.hasClass('t-dcl-rev-notes')){var mark_revs=aux_tr.children('td').eq(2).find('.t-mark-rev');if(mark_revs.length>0){new_def.revs=get_visibility_map(el);has_revs=true;}}el.children('.t-dcl').each(function(){var new_id=process_tr($(this),has_num,has_revs,new_def.revs.clone());new_def.children.push(new_id);});defs.push(new_def);};$(dcl_table).children('tbody').each(function(){if($(this).hasClass('t-dcl-rev')){process_rev_tbody($(this));}else{$(this).children('.t-dcl').each(function(){process_tr($(this),false,false,[]);});}});function debug_print_defs(defs){var out='';for(var i=0;i<
defs.length;i++){out+=' { i:'+i+' type:'+defs[i].type+' num:'+defs[i].num;out+=' visible:'+defs[i].revs.debug_to_string();if(defs[i].type==='r'){out+=' { ';for(var j=0;j<defs[i].children.length;++j){out+=defs[i].children[j]+' ';}out+='}';}out+=' }\n';}return out;}function get_num_map(){var num_map=[];var max_num=-1;var i;for(i=0;i<defs.length;++i){if(defs[i].num>max_num){max_num=defs[i].num;}}if(max_num>-1){for(var rev=Rev.FIRST;rev!==Rev.LAST;++rev){var visible_nums=[];for(i=0;i<defs.length;++i){if(defs[i].revs.is_visible_on(rev)&&defs[i].num!==-1){visible_nums.push(defs[i].num);}}visible_nums=array_sort_unique(visible_nums);var curr_map=[-1];for(var num=1;num<=max_num;++num){curr_map[num]=-1;}var curr_num=1;for(i=0;i<visible_nums.length;++i){curr_map[visible_nums[i]]=curr_num;curr_num++;}num_map[rev]=curr_map;}}return num_map;};function debug_print_num_map(num_map){var out='';for(var rev=Rev.FIRST;rev!==Rev.LAST;++rev){out+='['+desc[rev].title+']: { ';out+=num_map[rev]+' }\n';}return out
;}var num_map=get_num_map();if(debug){alert(debug_print_defs(defs)+'\n\n'+debug_print_num_map(num_map));}function clear_rev_marks(tr){marks=tr.children('td').eq(2).find('.t-mark-rev');marks.each(function(){$(this).prev('br').add($(this).next('br')).first().remove();$(this).remove();});};function set_number(tr,num){tr.children('td').eq(1).text('('+num.toString()+')');};function get_tr_nums(num){var nums=[];for(var rev=Rev.FIRST;rev!==Rev.LAST;++rev){nums[rev]=num_map[rev][num];}return nums;};function any_children_visible_on_rev(def){var ret=new VisibilityMap();for(var i=0;i!==def.children.length;++i){ret.combine_or(defs[def.children[i]].revs);}ret.remove(Rev.DIFF);return ret;};function get_copy_info(visible,nums){var res=[];var base_rev;var new_num;var new_visible;var is_first=true;for(var rev=Rev.FIRST;rev!==Rev.LAST;++rev){if(!visible.is_visible_on(rev)){continue;}if(!is_first&&new_num===nums[rev]){new_visible.add(rev);continue;}if(!is_first){res.push({base_rev:base_rev,revs:
new_visible,num:new_num});}base_rev=rev;new_num=nums[rev];new_visible=new VisibilityMap([rev]);is_first=false;}if(!is_first){res.push({base_rev:base_rev,revs:new_visible,num:new_num});}return res;};function finalize_tr(def){var new_el;if(def.num===-1){if(def.revs.is_visible_on(Rev.DIFF)){tracker.add_diff_object(def.obj,def.revs);}else{new_el=def.obj.clone().hide().insertAfter(def.obj);clear_rev_marks(new_el);tracker.add_diff_object(def.obj,new VisibilityMap([Rev.DIFF]));tracker.add_object(new_el,def.obj,def.revs);}}else{var nums=get_tr_nums(def.num);tracker.add_diff_object(def.obj,new VisibilityMap([Rev.DIFF]));var copy_info=get_copy_info(def.revs,nums);for(var i=0;i<copy_info.length;i++){new_el=def.obj.clone().hide().insertAfter(def.obj);clear_rev_marks(new_el);set_number(new_el,copy_info[i].num);tracker.add_object(new_el,def.obj,copy_info[i].revs);}}};function finalize_rev_tbody(def){var tbody_visible=def.revs.clone();tbody_visible.combine_and(any_children_visible_on_rev(def));
tbody_visible.add(Rev.DIFF);tracker.add_diff_object(def.obj,tbody_visible);var new_el;if(def.num===-1){if(def.revs.is_visible_on(Rev.DIFF)){}else{new_el=def.aux.clone().hide().insertAfter(def.aux);clear_rev_marks(new_el);tracker.add_diff_object(def.aux,new VisibilityMap([Rev.DIFF]));var aux_visible=tbody_visible;aux_visible.remove(Rev.DIFF);tracker.add_object(new_el,def.aux,aux_visible);}}else{var nums=get_tr_nums(def.num);tracker.add_diff_object(def.aux,new VisibilityMap([Rev.DIFF]));var copy_info=get_copy_info(def.revs,nums);for(var i=0;i<copy_info.length;i++){new_el=def.aux.clone().hide().insertAfter(def.aux);clear_rev_marks(new_el);set_number(new_el,copy_info[i].num);tracker.add_object(new_el,def.aux,copy_info[i].revs);}}};for(var i=0;i<defs.length;++i){if(defs[i].type==='s'){finalize_tr(defs[i]);}else{finalize_rev_tbody(defs[i]);}}return num_map;};StandardRevisionPlugin.prototype.prepare_all_li=function(scope,num_map){var descs=[];var num_regex=/^\s*(\d+)\s*$/;var range_regex=
/^\s*(\d+)-(\d+)\s*$/;scope.list_items.each(function(){var el_num=$(this).children().first('.t-li');if(el_num.length===0){return;}var nums=[];var items=el_num.text().replace(')','').split(',');for(var i=0;i<items.length;++i){var match=items[i].match(num_regex);if(match!==null){nums.push(parseInt(match[1]));continue;}match=items[i].match(range_regex);if(match!==null){var first=parseInt(match[1]);var last=parseInt(match[2]);if(first>last){continue;}for(;first<=last;++first){nums.push(first);}continue;}}if(nums.length!=0){descs.push({obj:$(this),nums:nums,obj_num:el_num});}});for(var i=0;i<descs.length;++i){var nums=descs[i].nums;var visible=visibility_fill(true);var disp_desc=[];var prev_nums=nums;var prev_revs=[Rev.DIFF];for(var rev=Rev.FIRST;rev!==Rev.LAST;++rev){var target_nums=[];for(var j=0;j<nums.length;++j){if(nums[j]<num_map[rev].length){var target_num=num_map[rev][nums[j]];if(target_num!==-1){target_nums.push(target_num);}}}if(target_nums.length===0){visible.remove(rev);continue
;}if(array_equal(target_nums,prev_nums)){prev_revs.push(rev);}else{disp_desc.push({revs:prev_revs,nums:prev_nums});prev_revs=[rev];prev_nums=target_nums;}}disp_desc.push({revs:prev_revs,nums:prev_nums});if(!visible.is_visible_on_all()){this.tracker.add_diff_object(descs[i].obj,visible);}if(disp_desc.length>1){this.tracker.add_diff_object(descs[i].obj_num,new VisibilityMap(disp_desc[0].revs));for(var j=1;j<disp_desc.length;++j){var new_el=descs[i].obj_num.clone().hide().insertAfter(descs[i].obj_num);var text=disp_desc[j].nums[0].toString();var text='';var is_first=true;var range_begin=disp_desc[j].nums[0];var range_end=disp_desc[j].nums[0];for(var k=1;k<disp_desc[j].nums.length;++k){if(disp_desc[j].nums[k]==range_end+1){range_end=range_end+1;}else{if(!is_first)text=text+',';is_first=false;if(range_end==range_begin){text=text+range_begin.toString();}else{text=text+range_begin.toString()+'-'+range_end.toString();}range_begin=range_end=disp_desc[j].nums[k];}}if(!is_first)text=text+',';if(
range_end==range_begin){text=text+range_begin.toString();}else{text=text+range_begin.toString()+'-'+range_end.toString();}new_el.text(text+')');this.tracker.add_object(new_el,descs[i].obj_num,new VisibilityMap(disp_desc[j].revs));}}}};StandardRevisionPlugin.prototype.for_all_scopes=function(fun){fun.call(this.root_scope);for(var i=0;i<this.child_scopes.length;++i){fun.call(this.child_scopes[i]);}};StandardRevisionPlugin.prototype.prepare=function(){if(this.is_prepared){return;}this.root_scope=Scope.create_root($('#mw-content-text').first());this.child_scopes=[];var self=this;this.root_scope.root.find('.t-member').each(function(){self.child_scopes.push(Scope.create_child(self.root_scope,$(this)));});this.for_all_scopes(function(){var scope=this;self.prepare_navbar(scope);self.prepare_all_revs(scope);self.prepare_all_inl_revs(scope);self.prepare_all_dscs(scope);if(scope.dcl_tables.length>0){var num_map=self.prepare_all_dcls(scope.dcl_tables.first());self.prepare_all_li(scope,num_map);}})
;this.is_prepared=true;};StandardRevisionPlugin.prototype.get_revision_map=function(lines){var res=[];res[Rev.DIFF]=new VisibilityMap([Rev.DIFF]);var visible_by_line=[];var is_diff_clean=true;lines.each(function(){var rev_mark=$(this).find('.t-mark-rev').first();visible_by_line.push(get_visibility_map(rev_mark));if(rev_mark.length>0){is_diff_clean=false;}});var prev_rev=Rev.DIFF;var prev_visible=[];var i;if(is_diff_clean){for(i=0;i<visible_by_line.length;i++){prev_visible.push(i);}}for(var rev=Rev.FIRST;rev<Rev.LAST;++rev){res[rev]=new VisibilityMap();var curr_visible=[];for(i=0;i<visible_by_line.length;i++){if(visible_by_line[i].is_visible_on(rev)){curr_visible.push(i);}}if(curr_visible.length===0){continue;}if(array_equal(curr_visible,prev_visible)){res[prev_rev].add(rev);}else{res[rev].add(rev);prev_visible=curr_visible;prev_rev=rev;}}return res;};StandardRevisionPlugin.prototype.revision_map_to_visibility=function(revs){var visible=new VisibilityMap();for(var i=0;i<revs.length;++i)
{for(var j=0;j<revs[i].length;++j){visible.add(revs[i][j]);}}return visible;};StandardRevisionPlugin.prototype.delete_lines=function(titles,marks,rev){var num_deleted=0;var num_total=titles.length;marks.each(function(index){var mark_span=$(this).children('.t-mark-rev');if(mark_span.length>0){var mark=get_mark(mark_span.first());if(!should_be_shown(rev,mark)){titles.eq(index).remove();$(this).remove();num_deleted++;return;}}mark_span.remove();});return(num_deleted===num_total);};StandardRevisionPlugin.prototype.create_selection_box=function(){var head_parent;switch(mw.config.get('skin')){case'cppreference':case'cppreference2':head_parent=$('#cpp-head-tools-right');break;case'vector':head_parent=$('#right-navigation');break;default:return;}this.select_div=$('<div/>').addClass('stdrev-select');var inner_div=$('<div/>').appendTo(this.select_div);var span=$('<span/>').addClass('stdrev-text').text('Standard revision: ').appendTo(inner_div);this.select=$('<select/>').appendTo(inner_div);for(
var i=0;i<desc.length;++i){$('<option/>').text(desc[i].title).attr('value',desc[i].rev.toString()).appendTo(this.select);}this.select.one('mouseover',this.prepare.bind(this));this.select.change(this.on_selection_change.bind(this));this.select_div.prependTo(head_parent);};StandardRevisionPlugin.prototype.on_selection_change=function(){this.prepare();var rev=parseInt(this.select.val());this.tracker.to_rev(rev);if(this.curr_rev===Rev.DIFF&&rev!==Rev.DIFF){this.for_all_scopes(function(){this.rev_tables.each(function(){$(this).addClass('stdrev-rev-hide');});});}if(this.curr_rev!==Rev.DIFF&&rev===Rev.DIFF){this.for_all_scopes(function(){this.rev_tables.each(function(){$(this).removeClass('stdrev-rev-hide');});});}this.curr_rev=rev;};var plugin=new StandardRevisionPlugin();plugin.create_selection_box();});;},{"css":[
".stdrev-select{float:left;height:2.5em}.stdrev-select \x3e div{margin:1.7em 1em 0 0;font-size:0.7em}.stdrev-text{display:inline-block;margin:0.15em}.stdrev-select select{background-color:#EEEEEE;background-image:linear-gradient(#FFFFFF,#EEEEEE);background-repeat:repeat-x;border:1px solid #CCCCCC;border-radius:3px 3px 3px 3px;box-shadow:0 1px 0 rgba(255,255,255,0.5);font-size:1.0em;line-height:1em;padding:0;width:6em}.stdrev-rev-hide \x3e tbody \x3e tr \x3e td{border:none !important;padding:0 !important}.stdrev-rev-hide \x3e tbody \x3e tr \x3e td:nth-child(2){display:none}\n/* cache key: mwiki1-mwiki_en_:resourceloader:filter:minify-css:7:afc8664c13a87603e05c41cc81fb1d42 */"]},{});mw.loader.implement("jquery.autoEllipsis",function(){(function($){var cache={},matchTextCache={};$.fn.autoEllipsis=function(options){options=$.extend({position:'center',tooltip:false,restoreText:false,hasSpan:false,matchText:null},options);return this.each(function(){var $trimmableText,text,trimmableText,w,pw
,l,r,i,side,m,$container=$(this);if(options.restoreText){if(!$container.data('autoEllipsis.originalText')){$container.data('autoEllipsis.originalText',$container.text());}else{$container.text($container.data('autoEllipsis.originalText'));}}if(options.hasSpan){$trimmableText=$container.children(options.selector);}else{$trimmableText=$('<span>').css('whiteSpace','nowrap').text($container.text());$container.empty().append($trimmableText);}text=$container.text();trimmableText=$trimmableText.text();w=$container.width();pw=0;if(options.matchText){if(!(text in matchTextCache)){matchTextCache[text]={};}if(!(options.matchText in matchTextCache[text])){matchTextCache[text][options.matchText]={};}if(!(w in matchTextCache[text][options.matchText])){matchTextCache[text][options.matchText][w]={};}if(options.position in matchTextCache[text][options.matchText][w]){$container.html(matchTextCache[text][options.matchText][w][options.position]);if(options.tooltip){$container.attr('title',text);}return;}}
else{if(!(text in cache)){cache[text]={};}if(!(w in cache[text])){cache[text][w]={};}if(options.position in cache[text][w]){$container.html(cache[text][w][options.position]);if(options.tooltip){$container.attr('title',text);}return;}}if($trimmableText.width()+pw>w){switch(options.position){case'right':l=0;r=trimmableText.length;do{m=Math.ceil((l+r)/2);$trimmableText.text(trimmableText.substr(0,m)+'...');if($trimmableText.width()+pw>w){r=m-1;}else{l=m;}}while(l<r);$trimmableText.text(trimmableText.substr(0,l)+'...');break;case'center':i=[Math.round(trimmableText.length/2),Math.round(trimmableText.length/2)];side=1;while($trimmableText.outerWidth()+pw>w&&i[0]>0){$trimmableText.text(trimmableText.substr(0,i[0])+'...'+trimmableText.substr(i[1]));if(side===0){i[0]--;side=1;}else{i[1]++;side=0;}}break;case'left':r=0;while($trimmableText.outerWidth()+pw>w&&r<trimmableText.length){$trimmableText.text('...'+trimmableText.substr(r));r++;}break;}}if(options.tooltip){$container.attr('title',text);
}if(options.matchText){$container.highlightText(options.matchText);matchTextCache[text][options.matchText][w][options.position]=$container.html();}else{cache[text][w][options.position]=$container.html();}});};}(jQuery));;},{},{});mw.loader.implement("jquery.checkboxShiftClick",function(){(function($){$.fn.checkboxShiftClick=function(){var prevCheckbox=null,$box=this;$box.click(function(e){if(prevCheckbox!==null&&e.shiftKey){$box.slice(Math.min($box.index(prevCheckbox),$box.index(e.target)),Math.max($box.index(prevCheckbox),$box.index(e.target))+1).prop('checked',!!e.target.checked);}prevCheckbox=e.target;});return $box;};}(jQuery));;},{},{});mw.loader.implement("jquery.hidpi",function(){(function($){$.devicePixelRatio=function(){if(window.devicePixelRatio!==undefined){return window.devicePixelRatio;}else if(window.msMatchMedia!==undefined){if(window.msMatchMedia('(min-resolution: 192dpi)').matches){return 2;}else if(window.msMatchMedia('(min-resolution: 144dpi)').matches){return 1.5;}
else{return 1;}}else{return 1;}};$.fn.hidpi=function(){var $target=this,devicePixelRatio=$.devicePixelRatio(),testImage=new Image();if(devicePixelRatio>1&&testImage.srcset===undefined){$target.find('img').each(function(){var $img=$(this),srcset=$img.attr('srcset'),match;if(typeof srcset==='string'&&srcset!==''){match=$.matchSrcSet(devicePixelRatio,srcset);if(match!==null){$img.attr('src',match);}}});}return $target;};$.matchSrcSet=function(devicePixelRatio,srcset){var candidates,candidate,bits,src,i,ratioStr,ratio,selectedRatio=1,selectedSrc=null;candidates=srcset.split(/ *, */);for(i=0;i<candidates.length;i++){candidate=candidates[i];bits=candidate.split(/ +/);src=bits[0];if(bits.length>1&&bits[1].charAt(bits[1].length-1)==='x'){ratioStr=bits[1].substr(0,bits[1].length-1);ratio=parseFloat(ratioStr);if(ratio<=devicePixelRatio&&ratio>selectedRatio){selectedRatio=ratio;selectedSrc=src;}}}return selectedSrc;};}(jQuery));;},{},{});mw.loader.implement("jquery.highlightText",function(){(
function($){$.highlightText={splitAndHighlight:function(node,pat){var i,patArray=pat.split(' ');for(i=0;i<patArray.length;i++){if(patArray[i].length===0){continue;}$.highlightText.innerHighlight(node,patArray[i]);}return node;},innerHighlight:function(node,pat){var i,match,pos,spannode,middlebit,middleclone;if(node.nodeType===3){match=node.data.match(new RegExp('(^|\\s)'+$.escapeRE(pat),'i'));if(match){pos=match.index+match[1].length;spannode=document.createElement('span');spannode.className='highlight';middlebit=node.splitText(pos);middlebit.splitText(pat.length);middleclone=middlebit.cloneNode(true);spannode.appendChild(middleclone);middlebit.parentNode.replaceChild(spannode,middlebit);}}else if(node.nodeType===1&&node.childNodes&&!/(script|style)/i.test(node.tagName)&&!(node.tagName.toLowerCase()==='span'&&node.className.match(/\bhighlight/))){for(i=0;i<node.childNodes.length;++i){$.highlightText.innerHighlight(node.childNodes[i],pat);}}}};$.fn.highlightText=function(matchString){
return this.each(function(){var $el=$(this);$el.data('highlightText',{originalText:$el.text()});$.highlightText.splitAndHighlight(this,matchString);});};}(jQuery));;},{},{});mw.loader.implement("jquery.makeCollapsible",function(){(function($,mw){var lpx='jquery.makeCollapsible> ';function toggleElement($collapsible,action,$defaultToggle,options){var $collapsibleContent,$containers;options=options||{};if(!$collapsible.jquery){return;}if(action!=='expand'&&action!=='collapse'){return;}if($defaultToggle===undefined){$defaultToggle=null;}if($defaultToggle!==null&&!$defaultToggle.jquery){return;}if(!options.plainMode&&$collapsible.is('table')){$containers=$collapsible.find('> tbody > tr');if($defaultToggle){$containers=$containers.not($defaultToggle.closest('tr'));}if(action==='collapse'){if(options.instantHide){$containers.hide();}else{$containers.stop(true,true).fadeOut();}}else{$containers.stop(true,true).fadeIn();}}else if(!options.plainMode&&($collapsible.is('ul')||$collapsible.is('ol'
))){$containers=$collapsible.find('> li');if($defaultToggle){$containers=$containers.not($defaultToggle.parent());}if(action==='collapse'){if(options.instantHide){$containers.hide();}else{$containers.stop(true,true).slideUp();}}else{$containers.stop(true,true).slideDown();}}else{$collapsibleContent=$collapsible.find('> .mw-collapsible-content');if(!options.plainMode&&$collapsibleContent.length){if(action==='collapse'){if(options.instantHide){$collapsibleContent.hide();}else{$collapsibleContent.slideUp();}}else{$collapsibleContent.slideDown();}}else{if(action==='collapse'){if(options.instantHide){$collapsible.hide();}else{if($collapsible.is('tr')||$collapsible.is('td')||$collapsible.is('th')){$collapsible.fadeOut();}else{$collapsible.slideUp();}}}else{if($collapsible.is('tr')||$collapsible.is('td')||$collapsible.is('th')){$collapsible.fadeIn();}else{$collapsible.slideDown();}}}}}function togglingHandler($toggle,$collapsible,event,options){var wasCollapsed,$textContainer,collapseText,
expandText;if(event){if(options.linksPassthru&&$.nodeName(event.target,'a')){return true;}else{event.preventDefault();event.stopPropagation();}}wasCollapsed=$collapsible.hasClass('mw-collapsed');$collapsible.toggleClass('mw-collapsed',!wasCollapsed);if(options.toggleClasses){$toggle.toggleClass('mw-collapsible-toggle-collapsed',!wasCollapsed).toggleClass('mw-collapsible-toggle-expanded',wasCollapsed);}if(options.toggleText){collapseText=options.toggleText.collapseText;expandText=options.toggleText.expandText;$textContainer=$toggle.find('> a');if(!$textContainer.length){$textContainer=$toggle;}$textContainer.text(wasCollapsed?collapseText:expandText);}toggleElement($collapsible,wasCollapsed?'expand':'collapse',$toggle,options);}function toggleLinkDefault($that,e,options){var $collapsible=$that.closest('.mw-collapsible');options=$.extend({toggleClasses:true},options);togglingHandler($that,$collapsible,e,options);}function toggleLinkPremade($that,e,options){var $collapsible=$that.eq(0).
closest('.mw-collapsible');options=$.extend({toggleClasses:true,linksPassthru:true},options);togglingHandler($that,$collapsible,e,options);}function toggleLinkCustom($that,e,options,$collapsible){options=$.extend({},options);togglingHandler($that,$collapsible,e,options);}$.fn.makeCollapsible=function(options){return this.each(function(){var $collapsible,collapsetext,expandtext,$toggle,$toggleLink,$firstItem,collapsibleId,$customTogglers,firstval;if(options===undefined){options={};}$collapsible=$(this).addClass('mw-collapsible');if($collapsible.data('mw-made-collapsible')){return;}else{$collapsible.data('mw-made-collapsible',true);}collapsetext=options.collapseText||$collapsible.attr('data-collapsetext')||mw.msg('collapsible-collapse');expandtext=options.expandText||$collapsible.attr('data-expandtext')||mw.msg('collapsible-expand');$toggleLink=$('<a href="#"></a>').text(collapsetext).wrap('<span class="mw-collapsible-toggle"></span>').parent().prepend('&nbsp;[').append(']&nbsp;').on(
'click.mw-collapse',function(e,opts){opts=$.extend({toggleText:{collapseText:collapsetext,expandText:expandtext}},options,opts);toggleLinkDefault($(this),e,opts);});if(options.$customTogglers){$customTogglers=$(options.$customTogglers);}else{collapsibleId=$collapsible.attr('id')||'';if(collapsibleId.indexOf('mw-customcollapsible-')===0){mw.log(lpx+'Found custom collapsible: #'+collapsibleId);$customTogglers=$('.'+collapsibleId.replace('mw-customcollapsible','mw-customtoggle'));if(!$customTogglers.length){mw.log(lpx+'#'+collapsibleId+': Missing toggler!');}}}if($customTogglers&&$customTogglers.length){$customTogglers.on('click.mw-collapse',function(e,opts){opts=$.extend({},options,opts);toggleLinkCustom($(this),e,opts,$collapsible);});if(options.collapsed||$collapsible.hasClass('mw-collapsed')){$collapsible.removeClass('mw-collapsed');toggleLinkCustom($customTogglers,null,$.extend({instantHide:true},options),$collapsible);}}else{if($collapsible.is('table')){$firstItem=$collapsible.find(
'tr:first th, tr:first td');$toggle=$firstItem.find('> .mw-collapsible-toggle');if(!$toggle.length){$firstItem.eq(-1).prepend($toggleLink);}else{$toggleLink=$toggle.off('click.mw-collapse').on('click.mw-collapse',function(e,opts){opts=$.extend({},options,opts);toggleLinkPremade($toggle,e,opts);});}}else if($collapsible.is('ul')||$collapsible.is('ol')){$firstItem=$collapsible.find('li:first');$toggle=$firstItem.find('> .mw-collapsible-toggle');if(!$toggle.length){firstval=$firstItem.attr('value');if(firstval===undefined||!firstval||firstval==='-1'||firstval===-1){$firstItem.attr('value','1');}$collapsible.prepend($toggleLink.wrap('<li class="mw-collapsible-toggle-li"></li>').parent());}else{$toggleLink=$toggle.off('click.mw-collapse').on('click.mw-collapse',function(e,opts){opts=$.extend({},options,opts);toggleLinkPremade($toggle,e,opts);});}}else{$toggle=$collapsible.find('> .mw-collapsible-toggle');if(!$collapsible.find('> .mw-collapsible-content').length){$collapsible.wrapInner(
'<div class="mw-collapsible-content"></div>');}if(!$toggle.length){$collapsible.prepend($toggleLink);}else{$toggleLink=$toggle.off('click.mw-collapse').on('click.mw-collapse',function(e,opts){opts=$.extend({},options,opts);toggleLinkPremade($toggle,e,opts);});}}}if((options.collapsed||$collapsible.hasClass('mw-collapsed'))&&(!$customTogglers||!$customTogglers.length)){$collapsible.removeClass('mw-collapsed');$toggleLink.eq(0).trigger('click',[{instantHide:true}]);}});};}(jQuery,mediaWiki));;},{"css":[".mw-collapsible-toggle{float:right} li .mw-collapsible-toggle{float:none} .mw-collapsible-toggle-li{list-style:none}\n/* cache key: mwiki1-mwiki_en_:resourceloader:filter:minify-css:7:4250852ed2349a0d4d0fc6509a3e7d4c */"]},{"collapsible-expand":"Expand","collapsible-collapse":"Collapse"});mw.loader.implement("jquery.mw-jump",function(){jQuery(function($){$('.mw-jump').on('focus blur','a',function(e){if(e.type==='blur'||e.type==='focusout'){$(this).closest('.mw-jump').css({height:0});}else
{$(this).closest('.mw-jump').css({height:'auto'});}});});;},{},{});mw.loader.implement("jquery.placeholder",function(){(function($){$.fn.placeholder=function(){return this.each(function(){var placeholder,$input;if(this.placeholder&&'placeholder'in document.createElement(this.tagName)){return;}placeholder=this.getAttribute('placeholder');$input=$(this);if(this.value===''||this.value===placeholder){$input.addClass('placeholder').val(placeholder);}$input.blur(function(){if(this.value===''){this.value=placeholder;$input.addClass('placeholder');}}).on('focus drop keydown paste',function(e){if($input.hasClass('placeholder')){if(e.type==='drop'&&e.originalEvent.dataTransfer){try{this.value=e.originalEvent.dataTransfer.getData('text/plain');}catch(exception){this.value=e.originalEvent.dataTransfer.getData('text');}e.preventDefault();}else{this.value='';}$input.removeClass('placeholder');}});if(this.form){$(this.form).submit(function(){if($input.hasClass('placeholder')){$input.val('').
removeClass('placeholder');}});}});};}(jQuery));;},{},{});mw.loader.implement("jquery.suggestions",function(){(function($){$.suggestions={cancel:function(context){if(context.data.timerID!==null){clearTimeout(context.data.timerID);}if($.isFunction(context.config.cancel)){context.config.cancel.call(context.data.$textbox);}},restore:function(context){context.data.$textbox.val(context.data.prevText);},update:function(context,delayed){function maybeFetch(){if(context.data.$textbox.val().length===0){context.data.$container.hide();context.data.prevText='';}else if(context.data.$textbox.val()!==context.data.prevText||!context.data.$container.is(':visible')){if(typeof context.config.fetch==='function'){context.data.prevText=context.data.$textbox.val();context.config.fetch.call(context.data.$textbox,context.data.$textbox.val());}}}$.suggestions.cancel(context);if(delayed){context.data.timerID=setTimeout(maybeFetch,context.config.delay);}else{maybeFetch();}$.suggestions.special(context);},special
:function(context){if(typeof context.config.special.render==='function'){setTimeout(function(){var $special=context.data.$container.find('.suggestions-special');context.config.special.render.call($special,context.data.$textbox.val(),context);},1);}},configure:function(context,property,value){var newCSS,$autoEllipseMe,$result,$results,childrenWidth,i,expWidth,matchedText,maxWidth,text;switch(property){case'fetch':case'cancel':case'special':case'result':case'$region':case'expandFrom':context.config[property]=value;break;case'suggestions':context.config[property]=value;if(context.data!==undefined){if(context.data.$textbox.val().length===0){context.data.$container.hide();}else{context.data.$container.show();newCSS={top:context.config.$region.offset().top+context.config.$region.outerHeight(),bottom:'auto',width:context.config.$region.outerWidth(),height:'auto'};context.config.expandFrom=(function(expandFrom){var regionWidth,docWidth,regionCenter,docCenter,docDir=$(document.documentElement).
css('direction'),$region=context.config.$region;if(context.config.positionFromLeft){expandFrom='left';}else if($.inArray(expandFrom,['left','right','start','end','auto'])===-1){expandFrom='auto';}if(expandFrom==='auto'){if($region.data('searchsuggest-expand-dir')){expandFrom=$region.data('searchsuggest-expand-dir');}else{regionWidth=$region.outerWidth();docWidth=$(document).width();if((regionWidth/docWidth)>0.85){expandFrom='start';}else{regionCenter=$region.offset().left+regionWidth/2;docCenter=docWidth/2;if(Math.abs(regionCenter-docCenter)/docCenter<0.10){expandFrom='start';}else{expandFrom=regionCenter>docCenter?'right':'left';}}}}if(expandFrom==='start'){expandFrom=docDir==='rtl'?'right':'left';}else if(expandFrom==='end'){expandFrom=docDir==='rtl'?'left':'right';}return expandFrom;}(context.config.expandFrom));if(context.config.expandFrom==='left'){newCSS.left=context.config.$region.offset().left;newCSS.right='auto';}else{newCSS.left='auto';newCSS.right=$('body').width()-(context.
config.$region.offset().left+context.config.$region.outerWidth());}context.data.$container.css(newCSS);$results=context.data.$container.children('.suggestions-results');$results.empty();expWidth=-1;$autoEllipseMe=$([]);matchedText=null;for(i=0;i<context.config.suggestions.length;i++){text=context.config.suggestions[i];$result=$('<div>').addClass('suggestions-result').attr('rel',i).data('text',context.config.suggestions[i]).mousemove(function(){context.data.selectedWithMouse=true;$.suggestions.highlight(context,$(this).closest('.suggestions-results .suggestions-result'),false);}).appendTo($results);if(typeof context.config.result.render==='function'){context.config.result.render.call($result,context.config.suggestions[i],context);}else{$result.append($('<span>').css('whiteSpace','nowrap').text(text));}if(context.config.highlightInput){matchedText=context.data.prevText;}childrenWidth=$result.children().outerWidth();if(childrenWidth>$result.width()&&childrenWidth>expWidth){expWidth=
childrenWidth+(context.data.$container.width()-$result.width());}$autoEllipseMe=$autoEllipseMe.add($result);}if(expWidth>context.data.$container.width()){maxWidth=context.config.maxExpandFactor*context.data.$textbox.width();context.data.$container.width(Math.min(expWidth,maxWidth));}$autoEllipseMe.autoEllipsis({hasSpan:true,tooltip:true,matchText:matchedText});}}break;case'maxRows':context.config[property]=Math.max(1,Math.min(100,value));break;case'delay':context.config[property]=Math.max(0,Math.min(1200,value));break;case'maxExpandFactor':context.config[property]=Math.max(1,value);break;case'submitOnClick':case'positionFromLeft':case'highlightInput':context.config[property]=value?true:false;break;}},highlight:function(context,result,updateTextbox){var selected=context.data.$container.find('.suggestions-result-current');if(!result.get||selected.get(0)!==result.get(0)){if(result==='prev'){if(selected.hasClass('suggestions-special')){result=context.data.$container.find(
'.suggestions-result:last');}else{result=selected.prev();if(!(result.length&&result.hasClass('suggestions-result'))){result=selected.parents('.suggestions-results > *').prev().find('.suggestions-result').eq(0);}if(selected.length===0){if(context.data.$container.find('.suggestions-special').html()!==''){result=context.data.$container.find('.suggestions-special');}else{result=context.data.$container.find('.suggestions-results .suggestions-result:last');}}}}else if(result==='next'){if(selected.length===0){result=context.data.$container.find('.suggestions-results .suggestions-result:first');if(result.length===0&&context.data.$container.find('.suggestions-special').html()!==''){result=context.data.$container.find('.suggestions-special');}}else{result=selected.next();if(!(result.length&&result.hasClass('suggestions-result'))){result=selected.parents('.suggestions-results > *').next().find('.suggestions-result').eq(0);}if(selected.hasClass('suggestions-special')){result=$([]);}else if(result.
length===0&&context.data.$container.find('.suggestions-special').html()!==''){result=context.data.$container.find('.suggestions-special');}}}selected.removeClass('suggestions-result-current');result.addClass('suggestions-result-current');}if(updateTextbox){if(result.length===0||result.is('.suggestions-special')){$.suggestions.restore(context);}else{context.data.$textbox.val(result.data('text'));context.data.$textbox.change();}context.data.$textbox.trigger('change');}},keypress:function(e,context,key){var selected,wasVisible=context.data.$container.is(':visible'),preventDefault=false;switch(key){case 40:if(wasVisible){$.suggestions.highlight(context,'next',true);context.data.selectedWithMouse=false;}else{$.suggestions.update(context,false);}preventDefault=true;break;case 38:if(wasVisible){$.suggestions.highlight(context,'prev',true);context.data.selectedWithMouse=false;}preventDefault=wasVisible;break;case 27:context.data.$container.hide();$.suggestions.restore(context);$.suggestions.
cancel(context);context.data.$textbox.trigger('change');preventDefault=wasVisible;break;case 13:context.data.$container.hide();preventDefault=wasVisible;selected=context.data.$container.find('.suggestions-result-current');if(selected.length===0||context.data.selectedWithMouse){$.suggestions.cancel(context);context.config.$region.closest('form').submit();}else if(selected.is('.suggestions-special')){if(typeof context.config.special.select==='function'){context.config.special.select.call(selected,context.data.$textbox);}}else{if(typeof context.config.result.select==='function'){$.suggestions.highlight(context,selected,true);context.config.result.select.call(selected,context.data.$textbox);}else{$.suggestions.highlight(context,selected,true);}}break;default:$.suggestions.update(context,true);break;}if(preventDefault){e.preventDefault();e.stopImmediatePropagation();}}};$.fn.suggestions=function(){var returnValue,args=arguments;$(this).each(function(){var context,key;context=$(this).data(
'suggestions-context');if(context===undefined||context===null){context={config:{fetch:function(){},cancel:function(){},special:{},result:{},$region:$(this),suggestions:[],maxRows:7,delay:120,submitOnClick:false,maxExpandFactor:3,expandFrom:'auto',highlightInput:false}};}if(args.length>0){if(typeof args[0]==='object'){for(key in args[0]){$.suggestions.configure(context,key,args[0][key]);}}else if(typeof args[0]==='string'){if(args.length>1){$.suggestions.configure(context,args[0],args[1]);}else if(returnValue===null||returnValue===undefined){returnValue=(args[0]in context.config?undefined:context.config[args[0]]);}}}if(context.data===undefined){context.data={timerID:null,prevText:null,visibleResults:0,mouseDownOn:$([]),$textbox:$(this),selectedWithMouse:false};context.data.$container=$('<div>').css('display','none').addClass('suggestions').append($('<div>').addClass('suggestions-results').mousedown(function(e){context.data.mouseDownOn=$(e.target).closest(
'.suggestions-results .suggestions-result');}).mouseup(function(e){var $result=$(e.target).closest('.suggestions-results .suggestions-result'),$other=context.data.mouseDownOn;context.data.mouseDownOn=$([]);if($result.get(0)!==$other.get(0)){return;}if(!(e.which!==1||e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)){$.suggestions.highlight(context,$result,true);context.data.$container.hide();if(typeof context.config.result.select==='function'){context.config.result.select.call($result,context.data.$textbox);}}context.data.$textbox.focus();})).append($('<div>').addClass('suggestions-special').mousedown(function(e){context.data.mouseDownOn=$(e.target).closest('.suggestions-special');}).mouseup(function(e){var $special=$(e.target).closest('.suggestions-special'),$other=context.data.mouseDownOn;context.data.mouseDownOn=$([]);if($special.get(0)!==$other.get(0)){return;}if(!(e.which!==1||e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)){context.data.$container.hide();if(typeof context.config.special.
select==='function'){context.config.special.select.call($special,context.data.$textbox);}}context.data.$textbox.focus();}).mousemove(function(e){context.data.selectedWithMouse=true;$.suggestions.highlight(context,$(e.target).closest('.suggestions-special'),false);})).appendTo($('body'));$(this).attr('autocomplete','off').keydown(function(e){context.data.keypressed=e.which;context.data.keypressedCount=0;switch(context.data.keypressed){case 40:e.preventDefault();e.stopImmediatePropagation();break;case 38:case 27:case 13:if(context.data.$container.is(':visible')){e.preventDefault();e.stopImmediatePropagation();}}}).keypress(function(e){context.data.keypressedCount++;$.suggestions.keypress(e,context,context.data.keypressed);}).keyup(function(e){if(context.data.keypressedCount===0){$.suggestions.keypress(e,context,context.data.keypressed);}}).blur(function(){if(context.data.mouseDownOn.length>0){return;}context.data.$container.hide();$.suggestions.cancel(context);});}$(this).data(
'suggestions-context',context);});return returnValue!==undefined?returnValue:$(this);};}(jQuery));;},{"css":[
".suggestions{overflow:hidden;position:absolute;top:0;left:0;width:0;border:none;z-index:1099;padding:0;margin:-1px -1px 0 0} html \x3e body .suggestions{margin:-1px 0 0 0}.suggestions-special{position:relative;background-color:white;cursor:pointer;border:solid 1px #aaaaaa;padding:0;margin:0;margin-top:-2px;display:none;padding:0.25em 0.25em;line-height:1.25em}.suggestions-results{background-color:white;cursor:pointer;border:solid 1px #aaaaaa;padding:0;margin:0}.suggestions-result{color:black;margin:0;line-height:1.5em;padding:0.01em 0.25em;text-align:left}.suggestions-result-current{background-color:#4C59A6;color:white}.suggestions-special .special-label{color:gray;text-align:left}.suggestions-special .special-query{color:black;font-style:italic;text-align:left}.suggestions-special .special-hover{background-color:silver}.suggestions-result-current .special-label,.suggestions-result-current .special-query{color:white}.autoellipsis-matched,.highlight{font-weight:bold}\n/* cache key: mwiki1-mwiki_en_:resourceloader:filter:minify-css:7:9780324491b653a3780e2d029bdc140c */"
]},{});mw.loader.implement("mediawiki.action.view.postEdit",function(){(function(mw,$){if(mw.config.get('wgAction')!=='view'){return;}var cookieKey=mw.config.get('wgCookiePrefix')+'PostEditRevision'+mw.config.get('wgCurRevisionId');if($.cookie(cookieKey)==='1'){$.cookie(cookieKey,null,{path:'/'});mw.config.set('wgPostEdit',true);}}(mediaWiki,jQuery));;},{},{});mw.loader.implement("mediawiki.api",function(){(function(mw,$){var defaultOptions={parameters:{action:'query',format:'json'},ajax:{url:mw.util.wikiScript('api'),timeout:30*1000,dataType:'json'}};mw.Api=function(options){if(options===undefined){options={};}if(options.ajax&&options.ajax.url!==undefined){options.ajax.url=String(options.ajax.url);}options.parameters=$.extend({},defaultOptions.parameters,options.parameters);options.ajax=$.extend({},defaultOptions.ajax,options.ajax);this.defaults=options;};mw.Api.prototype={normalizeAjaxOptions:function(arg){var opts=arg||{};if(typeof arg==='function'){opts={ok:arg};}return opts;},get:
function(parameters,ajaxOptions){ajaxOptions=this.normalizeAjaxOptions(ajaxOptions);ajaxOptions.type='GET';return this.ajax(parameters,ajaxOptions);},post:function(parameters,ajaxOptions){ajaxOptions=this.normalizeAjaxOptions(ajaxOptions);ajaxOptions.type='POST';return this.ajax(parameters,ajaxOptions);},ajax:function(parameters,ajaxOptions){var token,apiDeferred=$.Deferred();parameters=$.extend({},this.defaults.parameters,parameters);ajaxOptions=$.extend({},this.defaults.ajax,ajaxOptions);if(parameters.token){token=parameters.token;delete parameters.token;}ajaxOptions.data=$.param(parameters).replace(/\./g,'%2E');if(token){ajaxOptions.data+='&token='+encodeURIComponent(token);}if(ajaxOptions.ok){apiDeferred.done(ajaxOptions.ok);delete ajaxOptions.ok;}if(ajaxOptions.err){apiDeferred.fail(ajaxOptions.err);delete ajaxOptions.err;}$.ajax(ajaxOptions).fail(function(xhr,textStatus,exception){apiDeferred.reject('http',{xhr:xhr,textStatus:textStatus,exception:exception});}).done(function(
result){if(result===undefined||result===null||result===''){apiDeferred.reject('ok-but-empty','OK response but empty result (check HTTP headers?)');}else if(result.error){var code=result.error.code===undefined?'unknown':result.error.code;apiDeferred.reject(code,result);}else{apiDeferred.resolve(result);}});return apiDeferred.promise().fail(function(code,details){mw.log('mw.Api error: ',code,details);});}};mw.Api.errors=['ok-but-empty','timeout','duplicate','duplicate-archive','noimageinfo','uploaddisabled','nomodule','mustbeposted','badaccess-groups','stashfailed','missingresult','missingparam','invalid-file-key','copyuploaddisabled','mustbeloggedin','empty-file','file-too-large','filetype-missing','filetype-banned','filetype-banned-type','filename-tooshort','illegal-filename','verification-error','hookaborted','unknown-error','internal-error','overwrite','badtoken','fetchfileerror','fileexists-shared-forbidden','invalidtitle','notloggedin'];mw.Api.warnings=['duplicate','exists'];}(
mediaWiki,jQuery));;},{},{});mw.loader.implement("mediawiki.hidpi",function(){jQuery(function($){$('body').hidpi();});;},{},{});mw.loader.implement("mediawiki.searchSuggest",function(){(function(mw,$){$(document).ready(function($){var map,resultRenderCache,searchboxesSelectors,$searchRegion=$('#simpleSearch, #searchInput').first(),$searchInput=$('#searchInput');map={browsers:{ltr:{opera:[['>=',9.6]],docomo:false,blackberry:false,ipod:false,iphone:false},rtl:{opera:[['>=',9.6]],docomo:false,blackberry:false,ipod:false,iphone:false}}};if(!$.client.test(map)){return;}function computeResultRenderCache(context){var $form,formAction,baseHref,linkParams;$form=context.config.$region.closest('form');formAction=$form.attr('action');baseHref=formAction+(formAction.match(/\?/)?'&':'?');linkParams={};$.each($form.serializeArray(),function(idx,obj){linkParams[obj.name]=obj.value;});return{textParam:context.data.$textbox.attr('name'),linkParams:linkParams,baseHref:baseHref};}function renderFunction(
text,context){if(!resultRenderCache){resultRenderCache=computeResultRenderCache(context);}resultRenderCache.linkParams[resultRenderCache.textParam]=text;this.append($('<span>').css('whiteSpace','nowrap').text(text)).wrap($('<a>').attr('href',resultRenderCache.baseHref+$.param(resultRenderCache.linkParams)).addClass('mw-searchSuggest-link'));}function specialRenderFunction(query,context){var $el=this;if(!resultRenderCache){resultRenderCache=computeResultRenderCache(context);}resultRenderCache.linkParams[resultRenderCache.textParam]=query;if($el.children().length===0){$el.append($('<div>').addClass('special-label').text(mw.msg('searchsuggest-containing')),$('<div>').addClass('special-query').text(query).autoEllipsis()).show();}else{$el.find('.special-query').text(query).autoEllipsis();}if($el.parent().hasClass('mw-searchSuggest-link')){$el.parent().attr('href',resultRenderCache.baseHref+$.param(resultRenderCache.linkParams)+'&fulltext=1');}else{$el.wrap($('<a>').attr('href',
resultRenderCache.baseHref+$.param(resultRenderCache.linkParams)+'&fulltext=1').addClass('mw-searchSuggest-link'));}}searchboxesSelectors=['#searchInput','#searchInput2','#powerSearchText','#searchText','.mw-searchInput'];$(searchboxesSelectors.join(', ')).suggestions({fetch:function(query){var $el,jqXhr;if(query.length!==0){$el=$(this);jqXhr=$.ajax({url:mw.util.wikiScript('api'),data:{format:'json',action:'opensearch',search:query,namespace:0,suggest:''},dataType:'json',success:function(data){if($.isArray(data)&&data.length){$el.suggestions('suggestions',data[1]);}}});$el.data('request',jqXhr);}},cancel:function(){var jqXhr=$(this).data('request');if(jqXhr&&$.isFunction(jqXhr.abort)){jqXhr.abort();$(this).removeData('request');}},result:{render:renderFunction,select:function($input){$input.closest('form').submit();}},delay:120,highlightInput:true}).bind('paste cut drop',function(){$(this).trigger('keypress');});if($searchRegion.length===0){return;}$searchInput.attr('placeholder',mw.
msg('searchsuggest-search')).placeholder();$searchInput.suggestions({result:{render:renderFunction,select:function($input){$input.closest('form').submit();}},special:{render:specialRenderFunction,select:function($input){$input.closest('form').append($('<input type="hidden" name="fulltext" value="1"/>'));$input.closest('form').submit();}},$region:$searchRegion});$searchInput.data('suggestions-context').data.$container.css('fontSize',$searchInput.css('fontSize'));});}(mediaWiki,jQuery));;},{"css":[
".suggestions a.mw-searchSuggest-link,.suggestions a.mw-searchSuggest-link:hover,.suggestions a.mw-searchSuggest-link:active,.suggestions a.mw-searchSuggest-link:focus{text-decoration:none;color:black}.suggestions-result-current a.mw-searchSuggest-link,.suggestions-result-current a.mw-searchSuggest-link:hover,.suggestions-result-current a.mw-searchSuggest-link:active,.suggestions-result-current a.mw-searchSuggest-link:focus{color:white}\n/* cache key: mwiki1-mwiki_en_:resourceloader:filter:minify-css:7:52b1797f70c7e4094dfa4191101944e8 */"]},{"searchsuggest-search":"Search","searchsuggest-containing":"containing..."});mw.loader.implement("mediawiki.user",function(){(function(mw,$){function User(options,tokens){var user,callbacks;user=this;callbacks={};function getUserInfo(info,callback){var api;if(callbacks[info]){callbacks[info].add(callback);return;}callbacks.rights=$.Callbacks('once memory');callbacks.groups=$.Callbacks('once memory');callbacks[info].add(callback);api=new mw.Api();
api.get({action:'query',meta:'userinfo',uiprop:'rights|groups'}).always(function(data){var rights,groups;if(data.query&&data.query.userinfo){rights=data.query.userinfo.rights;groups=data.query.userinfo.groups;}callbacks.rights.fire(rights||[]);callbacks.groups.fire(groups||[]);});}this.options=options||new mw.Map();this.tokens=tokens||new mw.Map();this.generateRandomSessionId=function(){var i,r,id='',seed='0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz';for(i=0;i<32;i++){r=Math.floor(Math.random()*seed.length);id+=seed.substring(r,r+1);}return id;};this.getName=function(){return mw.config.get('wgUserName');};this.name=function(){return this.getName();};this.getRegistration=function(){var registration=mw.config.get('wgUserRegistration');if(this.isAnon()){return false;}else if(registration===null){return null;}else{return new Date(registration);}};this.isAnon=function(){return user.getName()===null;};this.anonymous=function(){return user.isAnon();};this.sessionId=function
(){var sessionId=$.cookie('mediaWiki.user.sessionId');if(typeof sessionId==='undefined'||sessionId===null){sessionId=user.generateRandomSessionId();$.cookie('mediaWiki.user.sessionId',sessionId,{'expires':null,'path':'/'});}return sessionId;};this.id=function(){var name=user.getName();if(name){return name;}return user.sessionId();};this.bucket=function(key,options){var cookie,parts,version,bucket,range,k,rand,total;options=$.extend({buckets:{},version:0,tracked:false,expires:30},options||{});cookie=$.cookie('mediaWiki.user.bucket:'+key);if(typeof cookie==='string'&&cookie.length>2&&cookie.indexOf(':')>0){parts=cookie.split(':');if(parts.length>1&&Number(parts[0])===options.version){version=Number(parts[0]);bucket=String(parts[1]);}}if(bucket===undefined){if(!$.isPlainObject(options.buckets)){throw'Invalid buckets error. Object expected for options.buckets.';}version=Number(options.version);range=0;for(k in options.buckets){range+=options.buckets[k];}rand=Math.random()*range;total=0;for
(k in options.buckets){bucket=k;total+=options.buckets[k];if(total>=rand){break;}}if(options.tracked){mw.loader.using('jquery.clickTracking',function(){$.trackAction('mediaWiki.user.bucket:'+key+'@'+version+':'+bucket);});}$.cookie('mediaWiki.user.bucket:'+key,version+':'+bucket,{'path':'/','expires':Number(options.expires)});}return bucket;};this.getGroups=function(callback){getUserInfo('groups',callback);};this.getRights=function(callback){getUserInfo('rights',callback);};}mw.user=new User(mw.user.options,mw.user.tokens);}(mediaWiki,jQuery));;},{},{});mw.loader.implement("mediawiki.page.ready",function(){(function(mw,$){$(function(){var $sortableTables;if(!('placeholder'in document.createElement('input'))){$('input[placeholder]').placeholder();}$('.mw-collapsible').makeCollapsible();$sortableTables=$('table.sortable');if($sortableTables.length){mw.loader.using('jquery.tablesorter',function(){$sortableTables.tablesorter();});}$('input[type=checkbox]:not(.noshiftselect)').
checkboxShiftClick();mw.util.updateTooltipAccessKeys();});}(mediaWiki,jQuery));;},{},{});
/* cache key: mwiki1-mwiki_en_:resourceloader:filter:minify-js:7:34b9de9071672560c1025082455c813a */
/* Cached 20240611144942 */